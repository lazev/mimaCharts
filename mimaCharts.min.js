!function(){"use strict";var e=function(e){var t="";for(var o in e)t+=o+":"+e[o]+";";return t},t="http://www.w3.org/2000/svg",o="0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)",n="_mima_",r=document.createElement("div"),s=function(e,t){return e.v!==t.b?t.v-e.v:0},l=function(){if(!document.getElementById(n+"sheet")){var e=document.createElement("style"),t="cubic-bezier(0.25, 0.25, 0.65, 2.57)";e.id=n+"sheet",e.appendChild(document.createTextNode("\t\t\t\t."+n+"abs{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}\t\t\t\t."+n+'sq:before{content:"";display:block;padding-top: 100%;}\t\t\t\t.'+n+"dot{position:absolute;margin:-1.5% 0 0 -1.5%;border-radius:50%;width:3%}\t\t\t\t."+n+"pe{pointer-events: all}\t\t\t\t."+n+"pe{pointer-events: all}\t\t\t\t."+n+"ellipsis{text-overflow: ellipsis; max-width: 100%; white-space: nowrap; overflow: hidden;}\t\t\t\t."+n+"slice,."+n+"bar,."+n+"dot{transition: transform 0.15s "+t+", filter 0.15s "+t+"; transform: translate3d(0,0,0); transform-origin: 50% 50%; }\t\t\t\t."+n+"bar{transform-origin: 50% 100%;}\t\t\t\t."+n+"hoverContainer{z-index:99;pointer-events:none;position:absolute;left:0;top:0; font-size: 12px; border-radius:3px; color:#fff; padding:8px; background-color:#616161;transition: left 0.15s ease-out, top 0.15s ease-out, opacity 0.15s ease-out;}\t\t\t\t."+n+'hoverContainer:before{content: ""; display:block; width:0; height:0; position: absolute; left:50%; bottom:-11px; margin-left:-6px; border: 6px solid transparent; border-top:6px solid #616161;}\t\t\t\t.'+n+"scaleLine{position: absolute; top: 0; left: 0; right: 0; height: 1px; background-color: #ccc; }\t\t\t\t."+n+"scaleText{display: inline-block; position: absolute; top: 0; left: 0; font-size: 12px; color: #999; line-height: 10%; text-align:right; }\t\t\t\t."+n+"legend{font-size: 12px; color: #666; padding: 2px; transition: opacity 0.15s ease-in-out}\t\t\t\t."+n+"legend span{display: inline-block; vertical-align:middle; pointer-events:none; }\t\t\t\t."+n+"legendColor{ border-radius: 50%; width: 8px; height: 8px; margin-right: 4px; transform: width 0.15s "+t+", height 0.15s "+t+"; }\t\t\t\t")),document.head.appendChild(e)}},a=function(e,t,o,n){return{x:e+o*Math.sin(n*Math.PI/180),y:t+o*Math.cos(n*Math.PI/180)}},d=[207,4,54,88,16,291,17,262,122,45,231,66,36,199,187,340,14,200],c={type:"donut",scale:{},ratio:.5},p=function(p,h){window.__mimaEvents||(window.__mimaData={atomic:0,listeners:{}},window.__mimaEvents=function(e){var t;"undefined"!=typeof e.target.__mimaIndex&&(t=e.target.__mimaIndex,window.__mimaData.listeners[e.target.__mimaIndex](e)),"mouseout"===e.type&&(clearTimeout(window.__mimaCleanup),window.__mimaCleanup=setTimeout(function(){Object.keys(window.__mimaData.listeners).forEach(function(e){i!==t})},100))},window.addEventListener("mouseover",window.__mimaEvents),window.addEventListener("mousemove",window.__mimaEvents),window.addEventListener("mouseout",window.__mimaEvents)),h="object"!=typeof h?p:h,h="object"!=typeof h?[]:h,p="object"!=typeof p?{}:p,p.type1=(p.type||"")[0]||"","b"!==p.type1&&"l"!==p.type1||(p.ratio=.5);var f,u={config:p,data:h,dataref:{},series:0,getColorValue:function(e){return"hsla("+e.h+","+e.s+","+e.l+","+e.a+")"},getColor:function(e,t,o,n){if(e.c)var i={value:e.c};else{var i={h:0,s:"100%",l:"60%",a:1};if(n){var r=50/o;i.h=n.h,i.l=24+Math.round(.5*r+r*t)+"%"}else if(o<d.length)i.h=d[t];else{var r=360/o;i.h=Math.round(.5*r+r*t)}i.value=u.getColorValue(i)}return i},killHover:function(e){if(u.currentHover=window.__mimaData.currentHover,u.currentHover){u.currentHover.style.opacity=0,u.currentHover.delayHide=setTimeout(function(){u.currentHover.display=""},200);var t=u.currentHover.point;t&&(t.showing=!1,t.slice&&(t.slice.style.transform="translate3d(0, 0, 0) scale(1)",t.percent_decimal<1&&t.slice.setAttribute("stroke","#fff"),t.slice.setAttribute("filter",""),t.legend.style.opacity="",t.legend.style.fontWeight="",[].slice.call(u.chart.getElementsByClassName(n+"legend")).forEach(function(e){e.style.opacity=1}),t.legendColor.style.width="",t.legendColor.style.height="",t.legendColor.style.transform="translate3d(0, 0 , 0)"),t.bar&&(t.bar.style.transform="scale(1)",t.bar.boxShadow=""),t.dot&&(t.dot.style.transform="scale(1)"),t.line&&(t.line.style.transform="scale(1)",t.line.setAttribute("filter","")))}},hover:function(e){var t=u.dataref[e.target.__mimaPoint],i="mouseover"===e.type||"mousemove"===e.type;if(t&&i){if(!t.showing){u.killHover(e),t.showing=!0;var r=e.pageX,s=e.pageY;if(u.currentHover?(u.currentHover.style.display="",u.currentHover.style.opacity=1,clearTimeout(u.currentHover.delayHide)):(u.currentHover=document.createElement("div"),u.currentHover.className=n+"hoverContainer",document.body.appendChild(u.currentHover)),u.currentHover.point=t,window.__mimaData.currentHover=u.currentHover,t.slice&&(t.slice.parentNode.appendChild(t.slice),t.slice.setAttribute("stroke",t.color.value),setTimeout(function(){t.slice.style.transform="translate3d(0, 0, 0) scale(1.05)"},10),t.slice.setAttribute("filter","url(#"+n+"material-shadow-1)"),u.legend&&(u.legend.scrollTop=t.legend.offsetTop),[].slice.call(u.chart.getElementsByClassName(n+"legend")).forEach(function(e){e!=t.legend&&(e.style.opacity=.5)}),t.legend.style.opacity=1,t.legendColor.style.width="12px",t.legendColor.style.height="12px",t.legendColor.style.transform="translate3d(-2px, 0 , 0)"),t.bar&&(t.bar.style.transform="translate3d(0, 0, 0) scale(1.05)",t.bar.style.boxShadow=o),t.dot&&(t.dot.style.transform="scale(1.2)"),t.hoverContent?u.currentHover.innerHTML=t.hoverContent||"":i=!1,t.hoverAnchor){u.currentHover.style.opacity=0,t.hoverAnchor.box=t.hoverAnchor.node.getBoundingClientRect();var l=document.body.scrollTop||document.documentElement.scrollTop,a=document.body.scrollLeft||document.documentElement.scrollLeft,d=0,r=t.hoverAnchor.box.left+a+.5*t.hoverAnchor.box.width,s=t.hoverAnchor.box.top+l;s-=10,r<0&&(r=0),u.currentHover.style.left=r+"px",u.currentHover.style.top=s+"px",setTimeout(function(){d=.5*u.currentHover.offsetWidth,r-d<10&&(d=d-(d-r)-10),u.currentHover.style.transform="translate3d(-"+d+"px, -"+u.currentHover.offsetHeight+"px, 0)",u.currentHover.style.opacity=1},10)}}}else u.killHover(e)}},m=function(e,t,o){t.__mimaPoint=o.id,t.__mimaIndex=e.__mimaIndex},g=function(e,t){e.info={level:t,lowest:p.scale.lowest,highest:p.scale.highest,sum:0,average:0,cx:25,cy:25,o_rad:22,i_rad:17},0===t&&(e.info.id=0)},v=function(e,t,o){e.parent=this,e.i=t,e.id=1*u.info.id,u.dataref[e.id]=e,u.info.id++,e.v||(e.v=0),g(e,this.info.level+1),this.info.sum+=e.v,(e.v>this.info.highest||"undefined"==typeof this.info.highest)&&(this.info.highest=e.v),(e.v<this.info.lowest||"undefined"==typeof this.info.lowest)&&(this.info.lowest=e.v),e.data&&e.data.forEach(v,e),t===o.length-1&&_(this.info,o),!e.l&&p.defaultLabel&&(e.l=p.defaultLabel),p.onclick&&(e.onclick=function(t){"function"==typeof p.onclick?(u.hover(t),p.onclick(t,e,u)):"string"==typeof p.onclick?"function"==typeof window[p.onclick]?(u.hover(t),window[p.onclick](t,e,u)):console.error("could not find function "+p.onclick+" in global/window"):console.error("invalid click type",p.onclick)})},y=function(e,t,o){e.percent_scale=e.v-this.info.lowest?100*((e.v-this.info.lowest)/this.info.highest):0,e.percent_series=this.info.sum&&e.v?e.v/this.info.sum*100:0,e.data&&e.data.forEach(y,e)},_=function(e,t){e.gap=10,e.gap_less=e.gap*(t.length+1),e.seriesIndex=1*u.series,e.average=e.sum?e.sum/t.length:0,e.color=u.getColor(e,e.seriesIndex,t.length,!1),u.series++},x=function(t,o,i){t.color=u.getColor(t,o,i.length,!!this.color&&this.color),t.node=document.createElement("div"),t.node.style.cssText=e({position:"absolute",width:(100-this.info.gap_less)/i.length+"%",top:0,bottom:0,left:this.info.gap*(o+1)+(100-this.info.gap_less)/i.length*o+"%"}),this.node.appendChild(t.node),t.data&&this.info.level!==u.config.dataLevel||(t.bar=document.createElement("div"),t.hoverAnchor={node:t.bar},t.bar.className=n+"bar "+n+"pe",t.bar.style.cssText=e({position:"absolute","background-color":t.color.value,bottom:0,width:"100%","min-height":"1px",height:t.percent_scale+"%"}),m(u,t.bar,t),t.node.appendChild(t.bar)),t.hoverContent=(t.l||"")+" "+Math.round(t.v),t.data&&t.data.forEach(x,t)},w=function(o,i,r){if(!o.data||this.info.level===u.config.dataLevel){o.color=this.info.color,o.dot=document.createElement("span"),o.dot.className=n+"dot "+n+"sq "+n+"pe",o.hoverAnchor={node:o.dot};var s=this.info.gap*(i+1)+(100-this.info.gap_less)/r.length*i,l=100-o.percent_scale;o.dot.style.cssText=e({left:s+"%",top:l+"%","background-color":o.color.value}),m(u,o.dot,o),u.node.appendChild(o.dot),i>0&&(o.line=document.createElementNS(t,"path"),o.line.setAttribute("class",n+"pe"),m(u,o.line,o),o.line.setAttribute("d","M"+this.info.lastPoint.x+","+this.info.lastPoint.y*u.config.ratio+" "+s+","+l*u.config.ratio),o.line.setAttribute("stroke",o.color.value),o.line.setAttribute("stroke-width","1%"),u.svg.appendChild(o.line)),o.hoverContent=(o.l||"")+" "+Math.round(o.v),this.info.lastPoint={x:s,y:l}}o.data&&o.data.forEach(w,o)},b=function(e,o,i){e.color=u.getColor(e,o,i.length,!!this.color&&this.color),e.percent_decimal=e.percent_series?e.percent_series/100:0,e.deg_from=this.info.lastDegTo||0,e.deg_to=e.deg_from+360*e.percent_decimal,this.info.lastDegTo=1*e.deg_to,e.p1=a(this.info.cx,this.info.cy,this.info.i_rad,e.deg_from),e.p2=a(this.info.cx,this.info.cy,this.info.o_rad,e.deg_from),e.p3=a(this.info.cx,this.info.cy,this.info.o_rad,e.deg_to),e.p4=a(this.info.cx,this.info.cy,this.info.i_rad,e.deg_to),e.o_sweep=e.deg_to-e.deg_from>180?"0 1,0":"0 0,0",e.i_sweep=e.deg_to-e.deg_from>180?"0 1,1":"0 0,1",e.slice=document.createElementNS(t,"path"),e.hoverAnchor={node:e.slice},e.d="",e.percent_decimal>=1?(e.p3a=a(this.info.cx,this.info.cy,this.info.o_rad,.5*e.deg_to),e.p1a=a(this.info.cx,this.info.cy,this.info.i_rad,.5*e.deg_to),e.d="M"+e.p1.x+","+e.p1.y+" L"+e.p2.x+","+e.p2.y+" A"+this.info.o_rad+","+this.info.o_rad+" "+e.o_sweep+" "+e.p3a.x+","+e.p3a.y+" A"+this.info.o_rad+","+this.info.o_rad+" "+e.o_sweep+" "+e.p3.x+","+e.p3.y+" L"+e.p4.x+","+e.p4.y+" A"+this.info.i_rad+","+this.info.i_rad+" "+e.i_sweep+" "+e.p1a.x+","+e.p1a.y+" A"+this.info.i_rad+","+this.info.i_rad+" "+e.i_sweep+" "+e.p1.x+","+e.p1.y):"d"!==p.type1?e.d="M"+this.info.cx+","+this.info.cy+" L"+e.p2.x+","+e.p2.y+" A"+this.info.o_rad+","+this.info.o_rad+" "+e.o_sweep+" "+e.p3.x+","+e.p3.y+"Z":e.d="M"+e.p1.x+","+e.p1.y+" L"+e.p2.x+","+e.p2.y+" A"+this.info.o_rad+","+this.info.o_rad+" "+e.o_sweep+" "+e.p3.x+","+e.p3.y+" L"+e.p4.x+","+e.p4.y+" A"+this.info.i_rad+","+this.info.i_rad+" "+e.i_sweep+" "+e.p1.x+","+e.p1.y,e.slice.setAttribute("d",e.d),e.slice.setAttribute("class",n+"slice "+n+"pe"),e.slice.setAttribute("fill",e.color.value),e.percent_decimal<1&&e.slice.setAttribute("stroke","#fff"),e.slice.setAttribute("stroke-width",.2),m(u,e.slice,e),e.hoverContent=(e.l||"")+" "+Math.round(e.v)+" ("+Math.round(e.percent_series)+"%)",u.svg.appendChild(e.slice),e.legend=document.createElement("div"),e.legendColor=document.createElement("span"),e.legendColor.className=n+"legendColor",e.legendColor.style.border="2px solid "+e.color.value,"p"===p.type1&&(e.legendColor.style.backgroundColor=e.color.value),e.legend.appendChild(e.legendColor),e.legendText=document.createElement("span"),e.legendText.className=n+"ellipsis",e.legendText.textContent=e.l||"",e.legend.appendChild(e.legendText),e.legendValue=document.createElement("span"),e.legendValue.textContent=Math.round(e.v)+" ("+Math.round(e.percent_series)+"%)",e.legendValue.style.float="right",e.legend.appendChild(e.legendValue),e.legend.className=n+"legend "+n+"pe",m(u,e.legend,e),u.legend.appendChild(e.legend),e.legendMinus=36+e.legendValue.offsetWidth,e.legendText.style.maxWidth="calc(100% - "+e.legendMinus+"px)",e.onclick&&(e.slice.addEventListener("click",e.onclick),e.legend.addEventListener("click",e.onclick))},C=function(){if(u.scale=document.createElement("div"),u.scale.className=n+"abs",u.chart.insertBefore(u.scale,u.chart.firstChild),"number"!=typeof u.config.scale.steps&&(u.config.scale.steps=5),u.config.scale.steps>0){for(var e,t,o,i,r,s=u.info.highest-u.info.lowest,l=s/u.config.scale.steps,a=0,d=[],c=[],p=0;p<u.config.scale.steps+1;p++)e=l*p,t=e/s,o=e+u.info.lowest,i=document.createElement("div"),i.className=n+"scaleLine",i.style.top=100-100*t+"%",u.scale.appendChild(i),d.push(i),r=document.createElement("span"),r.textContent=o,r.className=n+"scaleText",r.style.top=100-100*t+"%",u.scale.appendChild(r),c.push(r),r.offsetWidth>a&&(a=1*r.offsetWidth);for(var p=0;p<u.config.scale.steps+1;p++)d[p].style.left=a+4+"px",c[p].style.width=a+"px"}},E=function(){if("p"===p.type1||"d"===p.type1){u.legendHolder=document.createElement("div"),u.legendHolder.style.cssText=e({position:"absolute",top:0,bottom:0,left:"50%",width:"50%",overflow:"hidden"}),u.legend=document.createElement("div"),u.legend.style.cssText=e({position:"absolute","overflow-x":"hidden",height:"100%",left:0,right:0,"overflow-y":"scroll"}),u.legendHolder.appendChild(u.legend),u.node.appendChild(u.legendHolder);var t=function(){var e="-"+(u.legend.offsetWidth-u.legend.clientWidth)+"px";u.legend.style.right!==e&&(u.legend.style.right=e)};t(),setTimeout(t,10)}};for(f in c)"undefined"==typeof p[f]&&(u.config[f]=c[f]);if(g(u,0),u.chart=document.createElement("div"),u.chart.innerHTML='<div style="padding-top:'+100*p.ratio+'%;pointer-events:none"></div>',u.chart.style.cssText=e({position:"relative",display:"inline-block","box-sizing":"border-box",width:"100%","max-width":"100%",height:p.height+"px"}),r.appendChild(u.chart),u.svg=document.createElementNS(t,"svg"),u.svg.setAttribute("viewBox","0 0 100 "+100*u.config.ratio),u.svg.setAttribute("width","100%"),u.svg.setAttribute("height","100%"),u.svg.setAttribute("class",n+"abs"),u.chart.appendChild(u.svg),u.filter=document.createElementNS(t,"filter"),u.filter.id=n+"material-shadow-1",u.filter.innerHTML='<feGaussianBlur in="SourceAlpha" stdDeviation="0.5"/><feOffset dx="0" dy="0" result="offsetblur"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',u.svg.appendChild(u.filter),u.node=document.createElement("div"),u.node.className=n+"abs",u.chart.appendChild(u.node),r.style.cssText=e({position:"absolute",opacity:0,left:-1e4+"px"}),document.body.appendChild(r),u.__mimaIndex=1*window.__mimaData.atomic,window.__mimaData.atomic++,E(),u.data){p.sort!==!1&&("function"!=typeof p.sort?u.data.sort(s):u.data.sort(p.sort)),u.data.forEach(v,u),u.data.forEach(y,u);var H=x;"l"===p.type1?H=w:"p"!==p.type1&&"d"!==p.type1||(H=b),u.data.forEach(H,u)}u.chart.__mimaIndex=u.__mimaIndex,window.__mimaData.listeners[u.__mimaIndex]=u.hover;var k=function(){document.contains(u.chart)||u.currentHover&&(delete window.__mimaData.listeners[u.chart.__mimaIndex],u.currentHover.style.display="none")};return window.setInterval(k,1e3),!p.scale||"l"!==p.type1&&"b"!==p.type1||C(),l(),u};window.mimaCharts=p}();